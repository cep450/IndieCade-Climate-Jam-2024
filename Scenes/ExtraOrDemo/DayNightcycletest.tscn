[gd_scene load_steps=12 format=3 uid="uid://b8brmcliia5f7"]

[ext_resource type="Shader" path="res://Shaders/Gradientsky.gdshader" id="2_jemf5"]
[ext_resource type="Script" path="res://Scripts/View/camera.gd" id="3_7oyk1"]
[ext_resource type="MeshLibrary" uid="uid://b2mn2p18f8rsj" path="res://Resources/updatedtiles.tres" id="5_fihcj"]
[ext_resource type="PackedScene" uid="uid://bbwli37pmewjn" path="res://Scenes/Tiles/Lightpost.tscn" id="5_ycgy7"]
[ext_resource type="Script" path="res://Scripts/View/world.gd" id="6_tixaw"]
[ext_resource type="Texture2D" uid="uid://bpl1ai1hxmujv" path="res://Assets/Gameplay/Popup/Error/Error_Icon.png" id="7_32155"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_8k5wb"]
shader = ExtResource("2_jemf5")
shader_parameter/color_top = Color(0.511524, 0.847553, 0.904268, 1)
shader_parameter/color_horizon = Color(0.457523, 0.793741, 0.864264, 1)
shader_parameter/color_bottom = Color(0.49278, 0.705724, 0.773261, 1)
shader_parameter/exponent_factor_top = 1.0
shader_parameter/exponent_factor_bottom = 1.0
shader_parameter/intensity_amp = 1.0

[sub_resource type="Sky" id="Sky_07t6l"]
sky_material = SubResource("ShaderMaterial_8k5wb")

[sub_resource type="Environment" id="Environment_4liks"]
background_mode = 2
background_color = Color(0.526072, 0.775419, 0.910391, 1)
background_energy_multiplier = 1.1
sky = SubResource("Sky_07t6l")
ambient_light_source = 2
ambient_light_color = Color(0.726921, 0.727887, 0.741089, 1)
ambient_light_energy = 1.26
reflected_light_source = 2
tonemap_white = 4.87
glow_intensity = 2.99
fog_light_energy = 0.66
fog_density = 0.0
fog_sky_affect = 0.175
volumetric_fog_density = 0.1553

[sub_resource type="Animation" id="Animation_rvvr1"]
resource_name = "DayNight"
length = 60.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("DirectionalLight3D:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 30, 60),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(-3.14159, 0, 0), Vector3(0, 0, 0), Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("DirectionalLight3D:light_energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 32, 60),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [1.0, 0.0, 0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("DirectionalLight3D:light_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 32, 55.1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Color(0.472736, 0.550669, 0.598309, 1), Color(0.380431, 0.403931, 0.752193, 1), Color(0.215991, 0.276777, 0.568416, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("WorldEnvironment:environment:sky:sky_material:shader_parameter/color_top")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.2, 2.3, 23.5, 29.1, 30, 59.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0.468372, 0.66374, 0.841674, 1), Color(0.516066, 0.866902, 0.910857, 1), Color(0.340357, 0.73457, 0.781389, 1), Color(0.93402, 0.752139, 0.76735, 1), Color(0.165633, 0.304087, 0.477962, 1), Color(0.165633, 0.304087, 0.477962, 1)]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("WorldEnvironment:environment:sky:sky_material:shader_parameter/color_horizon")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0.2, 2.3, 18.3, 29.1, 30, 59.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0.497943, 0.640141, 0.828098, 1), Color(0.453268, 0.809909, 0.868071, 1), Color(0.343739, 0.708864, 0.763596, 1), Color(0.870155, 0.619401, 0.525683, 1), Color(0.329932, 0.448012, 0.698539, 1), Color(0.214128, 0.310743, 0.519248, 1)]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("WorldEnvironment:environment:sky:sky_material:shader_parameter/color_bottom")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.2, 2.3, 18.3, 29.1, 30, 59.9),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(0.778114, 0.555192, 0.370227, 1), Color(0.462745, 0.721569, 0.815686, 1), Color(0.397543, 0.609268, 0.75176, 1), Color(0.498039, 0.639216, 0.827451, 1), Color(0.23382, 0.385876, 0.517585, 1), Color(0.145415, 0.255848, 0.351161, 1)]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("WorldEnvironment:environment:ambient_light_color")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0.2, 2.3, 30, 59.9),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Color(0.72549, 0.729412, 0.741176, 1), Color(0.727072, 0.727726, 0.74108, 1), Color(0.489443, 0.559478, 0.835595, 1), Color(0.361506, 0.429911, 0.731114, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_h7aen"]
_data = {
"DayNight": SubResource("Animation_rvvr1")
}

[node name="DayNightcycletest" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_4liks")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -0.975916, 0.218146, 0, -0.218146, -0.975916, 0, 12, 5)
light_color = Color(0.466678, 0.541039, 0.608408, 1)
light_energy = 0.934375
shadow_enabled = true
shadow_bias = 0.5
shadow_opacity = 0.7
shadow_blur = 2.5

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_h7aen")
}
autoplay = "DayNight"

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.707107, 0.43825, -0.554921, 0, 0.784776, 0.619779, 0.707107, -0.43825, 0.554921, -5, 6, 10)
h_offset = -1.0
v_offset = 6.0
projection = 1
current = true
size = 18.176
near = 0.084
far = 181.88
script = ExtResource("3_7oyk1")
PAN_SPEED = 20.0
ZOOM_SPEED = 200.0
ROTATION_SPEED = 5.0

[node name="Lightpost" parent="." instance=ExtResource("5_ycgy7")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.5865, 0.418501, 8.63301)

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Panel" type="Panel" parent="Control"]
layout_mode = 1
anchors_preset = -1
anchor_left = 1.4
anchor_top = 2.2
anchor_right = 1.4
anchor_bottom = 2.2
offset_top = -40.0
offset_right = 40.0

[node name="Error" type="TextureRect" parent="Control/Panel"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0
texture = ExtResource("7_32155")
expand_mode = 3

[node name="Error Message" type="Label" parent="Control/Panel"]
layout_mode = 1
anchors_preset = -1
anchor_left = 1.2
anchor_top = 0.775
anchor_right = 1.2
anchor_bottom = 0.775
offset_top = -23.0
offset_right = 192.0
grow_horizontal = 2
grow_vertical = 2
text = "EIOtvnhioEHTIOW"

[node name="World" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 0)
script = ExtResource("6_tixaw")

[node name="GridMap" type="GridMap" parent="World"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 0)
mesh_library = ExtResource("5_fihcj")
cell_size = Vector3(1, 0.1, 1)
data = {
"cells": PackedInt32Array(0, 6, 15, 1, 6, 1048591, 2, 6, 1048591, 3, 6, 1048591, 4, 6, 1048591, 5, 6, 1048591, 6, 6, 15, 7, 6, 15, 8, 6, 15, 9, 6, 15, 10, 6, 1048591, 11, 6, 1048591, 12, 6, 1048591, 13, 6, 1048591, 14, 6, 1048591, 15, 6, 1048591, 16, 6, 1048591, 17, 6, 1048591, 18, 6, 1048591, 19, 6, 1048591, 19, 5, 1048591, 19, 4, 1048591, 19, 3, 1048591, 19, 2, 1048591, 19, 1, 1048591, 19, 0, 1048591, 19, 65535, 1048591, 19, 65534, 15, 19, 65533, 15, 19, 65532, 1048591, 19, 65531, 1048591, 19, 65530, 1048591, 19, 65529, 1048591, 19, 65528, 1048591, 19, 65527, 1048591, 19, 65526, 1048591, 19, 65525, 1048591, 19, 65524, 1048591, 19, 65523, 1048591, 19, 65522, 1048591, 18, 65522, 1048591, 17, 65522, 1048591, 16, 65522, 1048591, 15, 65522, 1048591, 14, 65522, 1441806, 13, 65522, 1441806, 12, 65522, 1441806, 11, 65522, 1441806, 10, 65522, 1441806, 9, 65522, 1441806, 8, 65522, 1441806, 7, 65522, 1441806, 6, 65522, 1441806, 5, 65522, 1441806, 4, 65522, 1441806, 3, 65522, 1441806, 2, 65522, 1441806, 1, 65522, 1441806, 0, 65522, 15, 0, 65523, 1441806, 0, 65524, 1441806, 0, 65525, 1441806, 0, 65526, 15, 0, 65527, 15, 0, 65528, 15, 0, 65529, 15, 0, 65530, 15, 0, 65531, 15, 0, 65532, 1441806, 0, 65533, 1441806, 0, 65534, 1441806, 0, 65535, 1441806, 0, 0, 1441806, 0, 1, 1441806, 0, 2, 1441806, 0, 3, 1441806, 0, 4, 1048591, 0, 5, 1048591, 1, 65523, 1441806, 2, 65523, 1441806, 3, 65523, 1441806, 4, 65523, 1441806, 5, 65523, 1441806, 6, 65523, 1441806, 7, 65523, 1441806, 8, 65523, 655374, 9, 65523, 655374, 10, 65523, 10, 11, 65523, 655374, 12, 65523, 655374, 13, 65523, 655374, 14, 65523, 1048591, 1, 0, 655374, 1, 1, 655374, 1, 2, 655374, 1, 3, 655374, 1, 4, 1048591, 1, 5, 1048591, 2, 5, 10, 3, 5, 10, 4, 5, 10, 5, 5, 655368, 5, 4, 655370, 4, 3, 655374, 3, 3, 655374, 3, 2, 1048586, 2, 1, 655374, 2, 0, 655374, 2, 65535, 10, 2, 65534, 10, 2, 65533, 10, 2, 65532, 10, 2, 65531, 10, 2, 65530, 10, 2, 65529, 10, 2, 65528, 10, 2, 65527, 10, 2, 65526, 10, 2, 65525, 10, 2, 65524, 10, 1, 65524, 655374, 1, 65525, 655374, 1, 65526, 655374, 1, 65527, 655374, 1, 65528, 655374, 1, 65529, 655374, 1, 65530, 655374, 1, 65531, 655374, 1, 65532, 655374, 1, 65533, 10, 1, 65534, 655374, 1, 65535, 655374, 2, 2, 655374, 2, 3, 655374, 2, 4, 655374, 3, 4, 655374, 4, 4, 655374, 4, 2, 1048586, 6, 5, 10, 7, 5, 10, 7, 4, 655374, 8, 4, 655374, 9, 4, 10, 9, 5, 10, 10, 4, 1048591, 11, 4, 655374, 12, 4, 655374, 13, 4, 10, 14, 4, 10, 15, 4, 10, 16, 5, 655374, 17, 5, 1048591, 18, 5, 1048591, 16, 4, 10, 13, 5, 1048591, 12, 5, 655374, 11, 5, 655374, 10, 5, 1048591, 8, 5, 10, 14, 5, 655374, 15, 5, 655374, 17, 4, 10, 17, 3, 655374, 18, 2, 655374, 18, 1, 655374, 18, 0, 655374, 18, 65535, 655374, 18, 65534, 655374, 18, 65533, 655374, 17, 65533, 655374, 17, 65532, 10, 17, 65531, 655374, 17, 65530, 655374, 17, 65529, 655374, 17, 65528, 655374, 17, 65527, 655374, 17, 65526, 655374, 17, 65525, 1048591, 17, 65524, 1048591, 17, 65523, 1048591, 16, 65523, 10, 15, 65523, 1048591, 18, 65523, 1048591, 18, 65524, 1048591, 18, 65525, 1048591, 18, 65526, 1048591, 18, 65527, 1048591, 18, 65528, 655374, 18, 65529, 655374, 18, 65530, 655374, 18, 65531, 655374, 18, 65532, 655374, 18, 3, 655374, 18, 4, 1048591, 6, 4, 655374, 17, 2, 655374, 16, 2, 655374, 15, 2, 655374, 13, 2, 10, 12, 2, 655374, 11, 3, 655374, 9, 3, 10, 8, 3, 655374, 7, 3, 655374, 6, 3, 655374, 6, 2, 1441802, 5, 2, 10, 5, 1, 10, 5, 3, 655370, 5, 65535, 10, 5, 0, 10, 7, 2, 1441802, 4, 1, 655374, 3, 1, 655374, 3, 0, 655374, 4, 0, 655374, 4, 65535, 10, 4, 65534, 655374, 3, 65533, 655374, 3, 65532, 655374, 3, 65531, 10, 3, 65530, 655374, 3, 65529, 655374, 3, 65528, 655374, 3, 65527, 655374, 3, 65526, 10, 4, 65526, 10, 4, 65525, 655374, 3, 65524, 655374, 4, 65524, 655374, 5, 65524, 655374, 6, 65524, 655374, 7, 65524, 655374, 3, 65525, 655374, 3, 65535, 10, 3, 65534, 655374, 4, 65533, 655374, 5, 65533, 655374, 6, 65533, 655374, 7, 65533, 655374, 8, 65533, 655374, 9, 65533, 10, 10, 65533, 655374, 12, 65533, 655374, 13, 65533, 10, 14, 65533, 655374, 11, 65533, 655374, 15, 65533, 655374, 15, 65534, 655374, 15, 65535, 655374, 16, 65535, 655374, 16, 0, 10, 16, 1, 655374, 17, 1, 655374, 17, 0, 10, 17, 65535, 655374, 17, 65534, 655374, 16, 65534, 655374, 15, 1, 655374, 15, 3, 655374, 16, 3, 655374, 14, 3, 1048591, 12, 3, 655374, 10, 3, 1048591, 13, 3, 10, 9, 2, 10, 8, 2, 1048586, 10, 2, 655374, 11, 2, 655374, 14, 2, 1048591, 10, 1, 655374, 8, 1, 655374, 7, 1, 655374, 6, 1, 655374, 9, 1, 655374, 11, 1, 655374, 13, 1, 10, 15, 0, 10, 14, 0, 10, 13, 0, 10, 11, 0, 655374, 10, 0, 655374, 8, 0, 655374, 7, 0, 655374, 6, 0, 655374, 9, 0, 655374, 12, 1, 655374, 14, 1, 1048591, 12, 0, 655374, 14, 65535, 1048591, 12, 65535, 10, 11, 65535, 10, 9, 65535, 10, 8, 65535, 10, 6, 65535, 10, 10, 65535, 10, 13, 65535, 10, 14, 65534, 655374, 13, 65534, 10, 12, 65534, 655374, 11, 65534, 655374, 9, 65534, 10, 8, 65534, 655374, 6, 65534, 655374, 5, 65534, 655374, 7, 65534, 655374, 10, 65534, 655374, 7, 65535, 10, 4, 65532, 655374, 4, 65531, 10, 5, 65532, 655374, 7, 65532, 655374, 8, 65532, 655374, 10, 65532, 655374, 11, 65532, 655374, 13, 65532, 10, 14, 65532, 10, 15, 65532, 10, 16, 65532, 10, 16, 65533, 655374, 6, 65532, 655374, 9, 65532, 10, 15, 65531, 655374, 14, 65531, 655374, 13, 65531, 10, 12, 65531, 10, 10, 65531, 10, 7, 65531, 10, 5, 65531, 10, 9, 65531, 10, 12, 65532, 655374, 11, 65531, 10, 8, 65531, 10, 6, 65531, 10, 5, 65530, 655374, 4, 65530, 655374, 5, 65529, 655374, 5, 65528, 655374, 5, 65527, 655374, 5, 65526, 10, 5, 65525, 655374, 4, 65527, 655374, 4, 65528, 655374, 4, 65529, 655374, 6, 65527, 10, 6, 65526, 10, 6, 65525, 655374, 7, 65525, 655374, 7, 65526, 10, 7, 65527, 655374, 7, 65528, 655374, 6, 65529, 10, 6, 65530, 10, 7, 65530, 655374, 7, 65529, 655374, 6, 65528, 10, 8, 65527, 655374, 9, 65527, 655374, 9, 65526, 10, 10, 65525, 10, 10, 65524, 10, 9, 65524, 655374, 8, 65524, 655374, 8, 65525, 655374, 8, 65526, 10, 8, 65528, 655374, 8, 65529, 655374, 9, 65529, 655374, 9, 65530, 655374, 10, 65530, 655374, 11, 65530, 655374, 11, 65529, 655374, 12, 65529, 655374, 13, 65529, 10, 14, 65528, 10, 15, 65528, 10, 15, 65527, 655374, 15, 65526, 655374, 15, 65525, 655374, 14, 65524, 1048591, 9, 65528, 655374, 10, 65529, 655374, 11, 65528, 10, 12, 65528, 10, 12, 65527, 655374, 12, 65526, 655374, 12, 65525, 655374, 11, 65524, 655374, 9, 65525, 655374, 8, 65530, 655374, 10, 65528, 10, 10, 65527, 10, 10, 65526, 10, 11, 65526, 655374, 11, 65525, 655374, 12, 65524, 655374, 14, 65525, 655374, 16, 65529, 655374, 16, 65530, 655374, 16, 65531, 655374, 16, 65528, 10, 16, 65527, 10, 16, 65526, 10, 16, 65525, 10, 16, 65524, 10, 15, 65524, 1048591, 13, 65524, 655374, 13, 65525, 655374, 13, 65526, 655374, 13, 65527, 655374, 13, 65528, 10, 13, 65530, 10, 12, 65530, 655374, 14, 65530, 655374, 14, 65529, 655374, 15, 65529, 655374, 14, 65526, 655374, 11, 65527, 655374, 14, 65527, 655374, 15, 65530, 655374, 262152, 5, 655372, 262156, 2, 655372, 262150, 65533, 655372, 262161, 65529, 655372, 262155, 65534, 1048589, 262148, 65525, 655372, 262156, 65524, 1048589, 262146, 2, 655372, 262161, 4, 655395, 262147, 5, 1048611, 262152, 65525, 35, 262162, 65534, 1441827, 262155, 5, 655395, 262146, 65530, 1048611, 262156, 65529, 1048589, 262160, 1, 1048589, 65535, 4, 15, 65535, 3, 15, 65535, 2, 15, 65535, 5, 15, 65534, 4, 15, 65534, 3, 15, 65534, 2, 15, 65534, 1, 15, 2, 7, 15, 3, 7, 15, 4, 7, 15, 5, 7, 15, 6, 7, 15, 7, 7, 15, 6, 8, 15, 7, 8, 15, 8, 8, 15, 8, 7, 15, 9, 7, 15, 10, 7, 15, 11, 7, 15, 12, 7, 15, 20, 2, 15, 20, 1, 15, 20, 0, 15, 20, 65535, 15, 21, 65535, 15, 22, 65535, 15, 22, 0, 15, 21, 0, 15, 21, 1, 15, 20, 3, 15, 20, 65534, 15, 20, 65533, 15, 20, 65532, 15, 21, 65534, 15, 65534, 65533, 15, 65534, 65534, 15, 65534, 65535, 15, 65534, 0, 15, 65535, 0, 15, 65535, 1, 15, 65535, 65535, 15, 65535, 65534, 15, 65535, 65533, 15, 65535, 65532, 15, 65535, 65531, 15, 65535, 65526, 15, 65534, 65526, 15, 65534, 65527, 15, 65535, 65527, 15, 65535, 65528, 15, 65535, 65529, 15, 65534, 65524, 15, 65535, 65524, 15, 65535, 65525, 15, 65534, 65523, 15, 65534, 65522, 15, 65535, 65522, 15, 65535, 65523, 15, 65535, 65521, 15, 0, 65521, 15, 0, 65520, 15, 1, 65521, 15, 2, 65521, 15, 3, 65521, 15, 3, 65520, 15, 4, 65520, 15, 5, 65520, 15, 6, 65520, 15, 7, 65520, 15, 8, 65520, 15, 9, 65520, 15, 5, 65521, 15, 4, 65521, 15, 6, 65521, 15, 7, 65521, 15, 8, 65521, 15, 9, 65521, 15, 10, 65521, 15, 11, 65521, 15, 12, 65521, 15, 13, 65521, 15, 14, 65521, 15, 15, 65521, 15, 2, 65520, 15, 1, 65520, 15, 65534, 65525, 15, 65533, 65525, 15, 65533, 65526, 15, 65533, 65524, 15, 65533, 65523, 15, 65533, 65522, 15)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)
